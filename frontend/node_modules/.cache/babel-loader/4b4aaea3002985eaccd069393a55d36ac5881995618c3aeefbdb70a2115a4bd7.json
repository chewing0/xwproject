{"ast":null,"code":"export default {\n  name: 'ModuleThreeView'\n};","map":{"version":3,"names":["name"],"sources":["D:\\wby\\projectfiles\\xwproject\\frontend\\src\\views\\Module3.vue"],"sourcesContent":["<template>\r\n  <div class=\"module\">\r\n    <h1>知识图谱管理</h1>\r\n    \r\n    <!-- 操作选项卡 -->\r\n    <div class=\"tabs\">\r\n      <button \r\n        v-for=\"tab in tabs\" \r\n        :key=\"tab.key\"\r\n        :class=\"['tab-button', { active: activeTab === tab.key }]\"\r\n        @click=\"activeTab = tab.key\"\r\n      >\r\n        {{ tab.label }}\r\n      </button>\r\n    </div>\r\n\r\n    <!-- 节点管理 -->\r\n    <div v-if=\"activeTab === 'nodes'\" class=\"content\">\r\n      <div class=\"operations-panel\">\r\n        <h3>节点操作</h3>\r\n        \r\n        <!-- 搜索区域 -->\r\n        <div class=\"search-section\">\r\n          <div class=\"form-group\">\r\n            <label>节点类型:</label>\r\n            <select v-model=\"nodeFilter.label\">\r\n              <option value=\"\">全部</option>\r\n              <option value=\"type\">故障类型</option>\r\n              <option value=\"reason\">故障原因</option>\r\n              <option value=\"solution\">解决方案</option>\r\n            </select>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label>搜索字段:</label>\r\n            <input v-model=\"nodeFilter.searchField\" placeholder=\"如: name\">\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label>搜索值:</label>\r\n            <input v-model=\"nodeFilter.searchValue\" placeholder=\"搜索内容\">\r\n          </div>\r\n          <button @click=\"loadNodes\" class=\"btn btn-primary\">搜索节点</button>\r\n        </div>\r\n\r\n        <!-- 创建节点区域 -->\r\n        <div class=\"create-section\">\r\n          <h4>创建新节点</h4>\r\n          <div class=\"form-group\">\r\n            <label>节点类型:</label>\r\n            <select v-model=\"newNode.label\" required>\r\n              <option value=\"\">请选择</option>\r\n              <option value=\"type\">故障类型</option>\r\n              <option value=\"reason\">故障原因</option>\r\n              <option value=\"solution\">解决方案</option>\r\n            </select>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label>名称:</label>\r\n            <input v-model=\"newNode.properties.name\" required placeholder=\"节点名称\">\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label>描述:</label>\r\n            <textarea v-model=\"newNode.properties.description\" placeholder=\"节点描述\"></textarea>\r\n          </div>\r\n          <div v-if=\"newNode.label === 'reason'\" class=\"form-group\">\r\n            <label>概率:</label>\r\n            <input v-model=\"newNode.properties.probability\" type=\"number\" step=\"0.1\" min=\"0\" max=\"1\" placeholder=\"0.0-1.0\">\r\n          </div>\r\n          <div v-if=\"newNode.label === 'solution'\" class=\"form-group\">\r\n            <label>难度:</label>\r\n            <select v-model=\"newNode.properties.difficulty\">\r\n              <option value=\"\">请选择</option>\r\n              <option value=\"easy\">简单</option>\r\n              <option value=\"medium\">中等</option>\r\n              <option value=\"hard\">困难</option>\r\n            </select>\r\n          </div>\r\n          <button @click=\"createNode\" :disabled=\"!newNode.label || !newNode.properties.name\" class=\"btn btn-success\">创建节点</button>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 节点列表 -->\r\n      <div class=\"nodes-list\">\r\n        <h4>节点列表 ({{ nodes.length }} 个)</h4>\r\n        <div v-if=\"loading\" class=\"loading\">加载中...</div>\r\n        <div v-else-if=\"nodes.length === 0\" class=\"no-data\">暂无数据</div>\r\n        <div v-else class=\"node-cards\">\r\n          <div v-for=\"(node, index) in nodes\" :key=\"index\" class=\"node-card\">\r\n            <div class=\"node-header\">\r\n              <span class=\"node-type\" :class=\"getNodeTypeClass(node.n)\">{{ getNodeTypeLabel(node.n) }}</span>\r\n              <div class=\"node-actions\">\r\n                <button @click=\"editNode(node.n)\" class=\"btn btn-sm btn-warning\">编辑</button>\r\n                <button @click=\"deleteNode(node.n)\" class=\"btn btn-sm btn-danger\">删除</button>\r\n              </div>\r\n            </div>\r\n            <div class=\"node-content\">\r\n              <h5>{{ node.n.name }}</h5>\r\n              <p v-if=\"node.n.description\">{{ node.n.description }}</p>\r\n              <div v-if=\"node.n.probability\" class=\"node-meta\">概率: {{ node.n.probability }}</div>\r\n              <div v-if=\"node.n.difficulty\" class=\"node-meta\">难度: {{ node.n.difficulty }}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 关系管理 -->\r\n    <div v-if=\"activeTab === 'relationships'\" class=\"content\">\r\n      <div class=\"operations-panel\">\r\n        <h3>关系操作</h3>\r\n        \r\n        <!-- 创建关系区域 -->\r\n        <div class=\"create-section\">\r\n          <h4>创建新关系</h4>\r\n          <div class=\"form-group\">\r\n            <label>关系类型:</label>\r\n            <select v-model=\"newRelationship.type\" @change=\"onRelationshipTypeChange\">\r\n              <option value=\"\">请选择</option>\r\n              <option value=\"BECAUSE\">故障类型 → 故障原因</option>\r\n              <option value=\"DEAL\">故障原因 → 解决方案</option>\r\n            </select>\r\n          </div>\r\n          \r\n          <div v-if=\"newRelationship.type\" class=\"relationship-nodes\">\r\n            <div class=\"form-group\">\r\n              <label>起始节点 ({{ newRelationship.fromLabel }}):</label>\r\n              <select v-model=\"newRelationship.fromNode\">\r\n                <option value=\"\">请选择</option>\r\n                <option v-for=\"node in getNodesForLabel(newRelationship.fromLabel)\" :key=\"node.id\" :value=\"node\">\r\n                  {{ node.name }}\r\n                </option>\r\n              </select>\r\n            </div>\r\n            \r\n            <div class=\"form-group\">\r\n              <label>目标节点 ({{ newRelationship.toLabel }}):</label>\r\n              <select v-model=\"newRelationship.toNode\">\r\n                <option value=\"\">请选择</option>\r\n                <option v-for=\"node in getNodesForLabel(newRelationship.toLabel)\" :key=\"node.id\" :value=\"node\">\r\n                  {{ node.name }}\r\n                </option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          \r\n          <button @click=\"createRelationship\" \r\n                  :disabled=\"!newRelationship.fromNode || !newRelationship.toNode\" \r\n                  class=\"btn btn-success\">创建关系</button>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 关系列表 -->\r\n      <div class=\"relationships-list\">\r\n        <h4>关系列表 ({{ relationships.length }} 个)</h4>\r\n        <button @click=\"loadRelationships\" class=\"btn btn-primary\">刷新关系</button>\r\n        \r\n        <div v-if=\"loading\" class=\"loading\">加载中...</div>\r\n        <div v-else-if=\"relationships.length === 0\" class=\"no-data\">暂无数据</div>\r\n        <div v-else class=\"relationship-cards\">\r\n          <div v-for=\"(rel, index) in relationships\" :key=\"index\" class=\"relationship-card\">\r\n            <div class=\"relationship-flow\">\r\n              <div class=\"relationship-node start\">\r\n                <span class=\"node-type\" :class=\"getNodeTypeClass(rel.a)\">{{ getNodeTypeLabel(rel.a) }}</span>\r\n                <span class=\"node-name\">{{ rel.a.name }}</span>\r\n              </div>\r\n              <div class=\"relationship-arrow\">\r\n                <span class=\"arrow\">→</span>\r\n                <span class=\"relationship-type\">{{ rel.r.type || 'UNKNOWN' }}</span>\r\n              </div>\r\n              <div class=\"relationship-node end\">\r\n                <span class=\"node-type\" :class=\"getNodeTypeClass(rel.b)\">{{ getNodeTypeLabel(rel.b) }}</span>\r\n                <span class=\"node-name\">{{ rel.b.name }}</span>\r\n              </div>\r\n              <div class=\"relationship-actions\">\r\n                <button @click=\"deleteRelationship(rel)\" class=\"btn btn-sm btn-danger\">删除</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 图谱预览 -->\r\n    <div v-if=\"activeTab === 'preview'\" class=\"content\">\r\n      <h3>知识图谱预览</h3>\r\n      <div class=\"graph-preview\">\r\n        <p>这里可以展示知识图谱的可视化内容</p>\r\n        <p>节点总数: {{ totalNodes }}</p>\r\n        <p>关系总数: {{ totalRelationships }}</p>\r\n        \r\n        <div class=\"schema-info\">\r\n          <h4>图谱架构</h4>\r\n          <div class=\"schema-section\">\r\n            <h5>节点类型</h5>\r\n            <ul>\r\n              <li><strong>type (故障类型)</strong>: 描述各种故障类型</li>\r\n              <li><strong>reason (故障原因)</strong>: 描述故障产生的原因</li>\r\n              <li><strong>solution (解决方案)</strong>: 描述解决故障的方法</li>\r\n            </ul>\r\n          </div>\r\n          <div class=\"schema-section\">\r\n            <h5>关系类型</h5>\r\n            <ul>\r\n              <li><strong>BECAUSE</strong>: 故障类型 → 故障原因</li>\r\n              <li><strong>DEAL</strong>: 故障原因 → 解决方案</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 编辑节点模态框 -->\r\n    <div v-if=\"editingNode\" class=\"modal-overlay\" @click=\"closeEditModal\">\r\n      <div class=\"modal\" @click.stop>\r\n        <div class=\"modal-header\">\r\n          <h3>编辑节点</h3>\r\n          <button @click=\"closeEditModal\" class=\"btn btn-sm btn-secondary\">×</button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"form-group\">\r\n            <label>名称:</label>\r\n            <input v-model=\"editingNode.name\" required>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label>描述:</label>\r\n            <textarea v-model=\"editingNode.description\"></textarea>\r\n          </div>\r\n          <div v-if=\"editingNode.probability !== undefined\" class=\"form-group\">\r\n            <label>概率:</label>\r\n            <input v-model=\"editingNode.probability\" type=\"number\" step=\"0.1\" min=\"0\" max=\"1\">\r\n          </div>\r\n          <div v-if=\"editingNode.difficulty !== undefined\" class=\"form-group\">\r\n            <label>难度:</label>\r\n            <select v-model=\"editingNode.difficulty\">\r\n              <option value=\"\">请选择</option>\r\n              <option value=\"easy\">简单</option>\r\n              <option value=\"medium\">中等</option>\r\n              <option value=\"hard\">困难</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button @click=\"updateNode\" class=\"btn btn-primary\">保存</button>\r\n          <button @click=\"closeEditModal\" class=\"btn btn-secondary\">取消</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ModuleThreeView'\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.module {\r\n  padding: 2rem;\r\n}\r\n\r\n.content {\r\n  margin-top: 2rem;\r\n}\r\n</style> "],"mappings":"AA0PA,eAAe;EACbA,IAAI,EAAE;AACR","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}